#:schema node_modules/wrangler/config-schema.json

name = "flux-generator-optimized"
main = "src/index.js"
compatibility_date = "2025-12-04"

# 靜態資源
[assets]
directory = "./public"
binding = "ASSETS"

# KV 命名空間 - 可選(首次部署可註釋)
# 運行 'npx wrangler kv:namespace create CACHE_KV' 後取消註釋並填入 ID
# [[kv_namespaces]]
# binding = "CACHE_KV"
# id = "YOUR_KV_NAMESPACE_ID"
# preview_id = "YOUR_PREVIEW_KV_ID"

# 環境變數
[vars]
ENVIRONMENT = "production"
MAX_IMAGES_PER_USER = "50"
CACHE_TTL = "3600"
ENABLE_MONITORING = "true"

# 開發環境
[env.dev]
name = "flux-generator-dev"
vars = { ENVIRONMENT = "development" }

# 生產環境
[env.production]
name = "flux-generator-optimized"
vars = { ENVIRONMENT = "production" }